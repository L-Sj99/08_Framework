<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!-- namespace에는 연결할 Mapper 인터페이스의 패키지 + 인터페이스명 작성 -->
<mapper namespace="edu.kh.todolist.mapper.TodoListMapper">

	<!-- 할 일 목록 조회 -->
	<select id="selectTodoList" resultType="Todo">
	  	SELECT LIST_NO, LIST_TITLE, LIST_CHECK, TO_CHAR(ENROLL_DATE, 'YYYY-MM-DD HH24:MI:SS') ENROLL_DATE
		FROM TODO_LIST
		WHERE LIST_NO > 0
		ORDER BY LIST_NO ASC
	</select>
  
  <!-- 완료된 할 일 개수 조회 -->
	<select id="selectCompleteCount" resultType="_int">
		SELECT COUNT(*) 
		FROM TODO_LIST
		WHERE LIST_NO > 0
		AND LIST_COMPLETE = 1
	</select>
  
  	<select id="updateTodo" parameterType="Todo">
  		UPDATE TODO_LIST
		SET LIST_TITLE = #{listTitle}, LIST_COMPLETE = #{listComplete}
		WHERE LIST_NO= #{listNo} 
  	</select>
  	
</mapper>
